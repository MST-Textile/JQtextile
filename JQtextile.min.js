(function(a){var b={init:function(a){},"in":function(a){return this.html(a)},out:function(a){function E(a){if(a){k=0}if(l){g+="</p>"+o;l=0}if(h&&!k){g+="</blockquote>"+o;h=0}}function D(a,b,c){return"<"+a+b+">"+c+"</"+a+">"}function C(a,b){return" "+a+'="'+b+'"'}function B(a){var c="";var d="";if(!a){return""}var e=/\[(\w\w)\]/.exec(a);if(e!=null){d+=C("lang",e[1])}var f=/\((\S+)\)/.exec(a);if(f!=null){a=a.replace(/\((\S+)\)/,"");d+=f[1].replace(/#(.*)$/,' id="$1"').replace(/^(\S+)/,' class="$1"')}var g=/(<>|=|<|>)/.exec(a);if(g){c+="text-align:"+b[g[1]]+";"}var h=/\{(\S+)\}/.exec(a);if(h){c+=h[1];if(!h[1].match(/;$/)){c+=";"}}var i=/(\(+)/.exec(a);if(i){c+="padding-left:"+i[1].length+"em;"}var j=/(\)+)/.exec(a);if(j){c+="padding-right:"+j[1].length+"em;"}if(c){d+=C("style",c)}return d}function A(a,b){var c=b.exec(a);if(c!=null){var d="";var e="";var f=/\((.*)\)$/.exec(c[1]);if(f!=null){d=C("alt",f[1])+C("title",f[1]);c[1]=c[1].replace(/\((.*)\)$/,"")}if(c[1].match(/^[><]/)){e="float:"+(c[1].indexOf(">")==0?"right;":"left;");c[1]=c[1].replace(/^[><]/,"")}var g=/(\(+)/.exec(c[1]);if(g){e+="padding-left:"+g[1].length+"em;"}var h=/(\)+)/.exec(c[1]);if(h){e+="padding-right:"+h[1].length+"em;"}if(e){d+=C("style",e)}var i='<img src="'+c[1]+'"'+d+" />";if(c.length>2){i=D("a",C("href",c[2]),i)}a=a.replace(b,i)}return a}function z(a,b,c,d){while(m=b.exec(a)){var e=B(m[1]);m[1]=m[1].replace(/^[\[\{\(]\S+[\]\}\)]/g,"");m[1]=m[1].replace(/^[<>=()]+/,"");a=a.replace(b,d+D(c,e,m[1]))}return a}function y(a){for(i in f){a=a.replace(new RegExp(i,"g"),f[i])}for(i in v){a=z(a,RegExp("^"+v[i]+"(.+?)"+v[i]),i,"");a=z(a,RegExp(" "+v[i]+"(.+?)"+v[i]),i," ")}a=a.replace(/\[(\d+)\]/g,'<sup><a href="#fn$1">$1</a></sup>');a=a.replace(/([A-Z]+)\((.*?)\)/g,'<acronym title="$2">$1</acronym>');a=a.replace(/\"([^\"]+)\":((http|https|mailto):\S+)/g,'<a href="$2">$1</a>');a=A(a,/!([^!\s]+)!:(\S+)/);a=A(a,/!([^!\s]+)!/);a=a.replace(/"([^\"]+)":(\S+)/g,function(a,b,d){return D("a",C("href",c[d]),b)});a=a.replace(/(=)?"([^\"]+)"/g,function(a,b,c){return b?a:"&#8220;"+c+"&#8221;"});return a}function x(a){var f=a.split(/\r?\n/);for(var i=0;i<f.length;i++){if(f[i].indexOf("[")==0){var m=f[i].indexOf("]");c[f[i].substring(1,m)]=f[i].substring(m+1)}}for(i=0;i<f.length;i++){if(f[i].indexOf("[")==0){continue}if(r=s.exec(f[i])){E(1);l=1;g+=f[i].replace(s,"<p"+B(r[1])+">"+y(r[2]));continue}if(r=/^h(\d)(\S*)\.\s*(.*)/.exec(f[i])){E(1);g+=D("h"+r[1],B(r[2]),y(r[3]))+o;continue}if(r=t.exec(f[i])){E(1);l=1;g+=f[i].replace(t,'<p id="fn'+r[1]+'"><sup>'+r[1]+"</sup>"+y(r[2]));continue}if(f[i].indexOf("*")==0){p="<ul>";e="</ul>"}else if(f[i].indexOf("#")==0){p="<ol>";e="</ol>"}else{while(q>0){g+=e;if(q>1){g+="</li>"}else{g+="\n"}g+="\n";q--}p=""}if(p){E(1);var m=/^([*#]+)\s*(.*)/.exec(f[i]);var v=m[1].length;while(v<q){g+=e+"</li>\n";q--}while(q<v){g=g.replace(/<\/li>\n$/,"\n");g+=p;q++}g+=D("li","",y(m[2]))+"\n";continue}if(f[i].match(u)){E(1);n=1;g+=f[i].replace(u,'<table style="$1;">\n');continue}if(f[i].indexOf("|")==0||f[i].match(w)){E(1);if(!n){g+="<table>\n";n=1}var x="";var z="";var A=w.exec(f[i]);if(A){x=C("style",A[1]);f[i]=f[i].replace(w,"|")}var F=f[i].split("|");for(j=1;j<F.length-1;j++){var G="td";if(F[j].indexOf("_.")==0){G="th";F[j]=F[j].substring(2)}F[j]=y(F[j]);var H=/^([<>=^~\/\\\{]+.*?)\.(.*)/.exec(F[j]);var I="",J="";if(H!=null){F[j]=H[2];var K=/\\(\d+)/.exec(H[1]);if(K!=null){I+=C("colspan",K[1])}var L=/\/(\d+)/.exec(H[1]);if(L!=null){I+=C("rowspan",L[1])}var M=/([\^~])/.exec(H[1]);if(M!=null){J+="vertical-align:"+b[M[1]]+";"}var N=/(<>|=|<|>)/.exec(H[1]);if(N!=null){J+="text-align:"+b[N[1]]+";"}var O=/\{([^\}]+)\}/.exec(H[1]);if(O!=null){J+=O[1]}if(J!=""){I+=C("style",J)}}z+=D(G,I,F[j])}g+="\t"+D("tr",x,z)+"\n";continue}if(n){g+="</table>"+o;n=0}if(f[i]==""){E()}else if(!l){if(r=d.exec(f[i])){f[i]=f[i].replace(d,"");g+="<blockquote>";h=1;if(r[1]){k=1}}g+="<p>"+y(f[i]);l=1}else{g+=y(f[i])}}E();return g}var b={">":"right","<":"left","=":"center","<>":"justify","~":"bottom","^":"top"};var c=new Array;var d=/^bq\.(\.)?\s*/;var e="";var f={"'":"&#8217;"," - ":" &#8211; ","--":"&#8212;"," x ":" &#215; ","\\.\\.\\.":"&#8230;","\\(C\\)":"&#169;","\\(R\\)":"&#174;","\\(TM\\)":"&#8482;"};var g="";var h=0;var k=0;var l=0;var n=0;var o="\n\n";var p="";var q=0;var r="";var s=/^p(\S*)\.\s*(.*)/;var t=/^fn(\d+)\.\s*(.*)/;var u=/^table\s*{(.*)}\..*/;var v={b:"\\*\\*",i:"__",em:"_",strong:"\\*",cite:"\\?\\?",sup:"\\^",sub:"~",span:"\\%",del:"-",code:"@",ins:"\\+",del:"-"};var w=/^\{(\S+)\}\.\s*\|/;return this.html(x(a))}};a.fn.JQtextile=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.JQtextile")}}})(jQuery)